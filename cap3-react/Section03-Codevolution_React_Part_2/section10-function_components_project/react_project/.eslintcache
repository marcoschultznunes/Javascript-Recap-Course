[{"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/index.js":"1","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/reportWebVitals.js":"2","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/App.jsx":"3","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/navbar/Navbar.jsx":"4","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/navbar/Navmenu.jsx":"5","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/navbar/Navlink.jsx":"6","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/posts/PostList.jsx":"7","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/posts/Post.jsx":"8","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/forms/PostForm.jsx":"9","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useInput.js":"10","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useFileInput.js":"11","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/forms/LoginForm.jsx":"12","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/utils/cookies.js":"13","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useErrorHandler.js":"14","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useLoadSpinner.js":"15","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useIsMount.js":"16"},{"size":770,"mtime":1609241495975,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":1608192311508,"results":"19","hashOfConfig":"18"},{"size":1412,"mtime":1609241205886,"results":"20","hashOfConfig":"18"},{"size":1340,"mtime":1608287242547,"results":"21","hashOfConfig":"18"},{"size":1188,"mtime":1609284077986,"results":"22","hashOfConfig":"18"},{"size":1033,"mtime":1609248919910,"results":"23","hashOfConfig":"18"},{"size":2891,"mtime":1609248005703,"results":"24","hashOfConfig":"18"},{"size":5675,"mtime":1609183063785,"results":"25","hashOfConfig":"18"},{"size":5548,"mtime":1609283193493,"results":"26","hashOfConfig":"18"},{"size":314,"mtime":1608632772871,"results":"27","hashOfConfig":"18"},{"size":276,"mtime":1608333100665,"results":"28","hashOfConfig":"18"},{"size":6095,"mtime":1609287828895,"results":"29","hashOfConfig":"18"},{"size":71,"mtime":1608371618396,"results":"30","hashOfConfig":"18"},{"size":764,"mtime":1608729246521,"results":"31","hashOfConfig":"18"},{"size":301,"mtime":1608802624212,"results":"32","hashOfConfig":"18"},{"size":231,"mtime":1608794901347,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"7p7akz",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/index.js",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/reportWebVitals.js",[],["69","70"],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/App.jsx",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/navbar/Navbar.jsx",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/navbar/Navmenu.jsx",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/navbar/Navlink.jsx",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/posts/PostList.jsx",["71"],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/posts/Post.jsx",["72","73","74"],"import React, { useContext, useEffect, useRef, useState } from 'react';\nimport moment from 'moment'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faClock} from '@fortawesome/free-solid-svg-icons'\nimport PostForm from '../forms/PostForm';\nimport Axios from 'axios'\nimport { LoggedUserContext } from '../App';\nimport useErrorHandler from '../hooks/useErrorHandler';\nimport useLoadSpinner from '../hooks/useLoadSpinner';\n\nconst formatDate = (date) => {\n   return moment(date).format('DD/MM/YY HH:mm')    \n}\n\nconst Post = (props) => {\n    const {title, author, authorId, date, content, imageUrl, id, refreshPosts} = props\n\n    const [currentPost, setCurrentPost] = useState({})\n\n    useEffect(() => {\n        setCurrentPost({\n            id: id,\n            title: title,\n            content: content,\n            image: imageUrl\n        })\n    }, [props])\n\n    const [editing, setEditing] = useState(false)\n    const [deleting, setDeleting] = useState(false)\n\n    const [loadSpinner] = useLoadSpinner({}, {marginRight: \"5px\"})\n    const [loading, setLoading] = useState(false)\n\n    const {user} = useContext(LoggedUserContext)\n\n    const [setError, setSuccess, errorElement, scrollToError] = useErrorHandler()\n\n    const toggleEditing = () => {\n        setEditing(!editing)\n    }\n    const toggleDeleteConfirmButtons = () => {\n        setError('')\n        setDeleting(!deleting)\n    }\n\n    const postRef = useRef()\n    const focusAfterSave = () => {\n        postRef.current.scrollIntoView();\n    }\n    \n    const savedPost = (updatedPost) => {\n        setEditing(false)\n        setCurrentPost({\n            id: id,\n            title: updatedPost.title,\n            content: updatedPost.content,\n            image: updatedPost.imageUrl\n        })\n        alert('Post saved!')\n        focusAfterSave()\n    }\n\n    const deletePost = () => {\n        setLoading(true)\n\n        Axios.get('http://localhost:8083/auth/cookie', {withCredentials: true})\n        .then((token) => {\n\n            return Axios.delete(`http://localhost:8083/posts/${currentPost.id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token.data\n                },\n                withCredentials: true\n            })\n        })\n        .then(() => {\n            setLoading(false)\n            refreshPosts()\n        })\n        .catch(err => {\n            setLoading(false)\n\n            if(err.response){\n                return setError('Could not delete post. Check your internet connection or try again later.')          \n            }\n\n            return setError('Deletion failed. Try again later or contact our support.')\n        })\n    }\n\n    if(editing){\n        return(\n            <li key={id} className='post-item'>\n                <div className='post-item-controls'>\n                    <span>\n                        <FontAwesomeIcon icon={faClock} className='dateicon'/>\n                        {formatDate(date)}\n                    </span>\n                    <button \n                        className='post-item-button bg-red' \n                        onClick={toggleEditing}\n                    >\n                        Cancel\n                    </button>\n                </div>\n\n                <PostForm post={currentPost} savedPost={savedPost}/>\n            </li>\n        )\n    }\n\n    return (  \n        <li key={id} className='post-item' ref={postRef}>\n            <div className='post-item-controls'>\n                <span>\n                    <FontAwesomeIcon icon={faClock} className='dateicon'/>\n                    {formatDate(date)}\n                </span>\n\n                {loading ?\n                    loadSpinner:\n                    <div className={user.id === authorId ? '' : 'hidden'}>\n\n                        {deleting === true ? \n                            <React.Fragment>\n                                <button \n                                    className='post-item-button bg-red'\n                                    onClick={deletePost}\n                                >\n                                    Delete\n                                </button>\n                                <button \n                                    className='post-item-button bg-blue' \n                                    onClick={toggleDeleteConfirmButtons}\n                                >\n                                    Cancel\n                                </button>\n                            </React.Fragment>\n                            :\n                            <React.Fragment>\n                                <button \n                                    className='post-item-button bg-blue' \n                                    onClick={toggleEditing} \n                                >\n                                    Edit\n                                </button>\n                                <button \n                                    className='post-item-button bg-red' \n                                    onClick={toggleDeleteConfirmButtons}\n                                >\n                                    Del\n                                </button>\n                            </React.Fragment>\n                        }\n                        \n                    </div>\n                }\n            </div>\n            {errorElement}\n            <h2 className='post-item-title'>{currentPost.title}</h2>\n            <img src={'http://localhost:8083/' + currentPost.image} alt=\"\" width=\"100px\"/>\n            <p className='post-item-content'>{currentPost.content}</p>\n            <p className='post-item-author'>Author: {author}</p>\n        </li>\n    );\n}\n \nexport default Post;","/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/forms/PostForm.jsx",["75"],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useInput.js",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useFileInput.js",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/forms/LoginForm.jsx",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/utils/cookies.js",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useErrorHandler.js",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useLoadSpinner.js",[],"/home/marcola/Desktop/Code/Javascript/cap3-react/Section03-Codevolution_React_Part_2/section10-function_components_project/react_project/src/components/hooks/useIsMount.js",[],["76","77"],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":51,"column":8,"nodeType":"84","endLine":51,"endColumn":15,"suggestions":"85"},{"ruleId":"82","severity":1,"message":"86","line":27,"column":8,"nodeType":"84","endLine":27,"endColumn":15,"suggestions":"87"},{"ruleId":"88","severity":1,"message":"89","line":37,"column":22,"nodeType":"90","messageId":"91","endLine":37,"endColumn":32},{"ruleId":"88","severity":1,"message":"92","line":37,"column":48,"nodeType":"90","messageId":"91","endLine":37,"endColumn":61},{"ruleId":"88","severity":1,"message":"89","line":15,"column":22,"nodeType":"90","messageId":"91","endLine":15,"endColumn":32},{"ruleId":"78","replacedBy":"93"},{"ruleId":"80","replacedBy":"94"},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPosts'. Either include it or remove the dependency array.","ArrayExpression",["97"],"React Hook useEffect has missing dependencies: 'content', 'id', 'imageUrl', and 'title'. Either include them or remove the dependency array.",["98"],"no-unused-vars","'setSuccess' is assigned a value but never used.","Identifier","unusedVar","'scrollToError' is assigned a value but never used.",["95"],["96"],"no-global-assign","no-unsafe-negation",{"desc":"99","fix":"100"},{"desc":"101","fix":"102"},"Update the dependencies array to be: [fetchPosts, props]",{"range":"103","text":"104"},"Update the dependencies array to be: [content, id, imageUrl, props, title]",{"range":"105","text":"106"},[1717,1724],"[fetchPosts, props]",[869,876],"[content, id, imageUrl, props, title]"]